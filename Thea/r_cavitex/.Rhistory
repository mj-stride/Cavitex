str_detect(type, "HAZARD") ~ "orange",
str_detect(type, "ACCIDENT") ~ "red",
TRUE ~ "a default")
)
# extract jams data
dfjams <- as.data.frame(waze_data$jams)
dfjams_length <- length(waze_data$jams$line) # get jam line count
# create leaflet map
# add markers (alert); legend
map_combined <- leaflet() %>%
addTiles() %>%
addLegend(
"topright",
title = "Map Marker Legend",
colors = c("green", "blue", "orange", "red"),
label = c("Jam", "Road Closed", "Hazard", "Accident"),
opacity = 1
) %>%
addLegend(
"topright",
title = "Map Line Legend",
colors = c("green"),
label = c("Jam"),
opacity = 1
) %>%
addCircleMarkers(
data = dfalerts,
lng = ~location.x,
lat = ~location.y,
popup = ~subtype,
color = map_dfcolor$color,
opacity = 1,
fillOpacity = 1,
weight = 2,
radius = 4
)
# add polyline (jam/traffic)
for (i in 1:dfjams_length) {
map_combined <- addPolylines(
map = map_combined,
data = dfjams,
lng = ~line[[i]]$x,
lat = ~line[[i]]$y,
weight = 2,
opacity = 1,
color = "green"
)
}
# display map and legend
map_combined
# install.packages("jsonlite")
library(jsonlite)
library(tidyverse)
library(leaflet)
# download waze data feeds
waze_data <- fromJSON("https://www.waze.com/row-partnerhub-api/partners/11262491165/waze-feeds/8d2cefb6-9636-402c-adb1-be2977117f2d?format=1", flatten = TRUE)
# extract alerts data
dfalerts <- as.data.frame(waze_data$alerts)
# check alert type and set marker color
map_dfcolor <- dfalerts %>%
mutate(color = case_when(str_detect(type, "JAM") ~ "green",
str_detect(type, "ROAD_CLOSED") ~ "blue",
str_detect(type, "HAZARD") ~ "orange",
str_detect(type, "ACCIDENT") ~ "red",
TRUE ~ "a default")
)
# extract jams data
dfjams <- as.data.frame(waze_data$jams)
dfjams_length <- length(waze_data$jams$line) # get jam line count
# create leaflet map
# add markers (alert); legend
map_combined <- leaflet() %>%
addTiles() %>%
addLegend(
"topright",
title = "Map Marker Legend",
colors = c("green", "blue", "orange", "red"),
label = c("Jam", "Road Closed", "Hazard", "Accident"),
opacity = 1
) %>%
addLegend(
"bottomright",
title = "Map Polyine Legend",
colors = c("green"),
label = c("Jam"),
opacity = 1
) %>%
addCircleMarkers(
data = dfalerts,
lng = ~location.x,
lat = ~location.y,
popup = ~subtype,
color = map_dfcolor$color,
opacity = 1,
fillOpacity = 1,
weight = 2,
radius = 4
)
# add polyline (jam/traffic)
for (i in 1:dfjams_length) {
map_combined <- addPolylines(
map = map_combined,
data = dfjams,
lng = ~line[[i]]$x,
lat = ~line[[i]]$y,
weight = 2,
opacity = 1,
color = "green"
)
}
# display map and legend
map_combined
# install.packages("jsonlite")
library(jsonlite)
library(tidyverse)
library(leaflet)
# download waze data feeds
waze_data <- fromJSON("https://www.waze.com/row-partnerhub-api/partners/11262491165/waze-feeds/8d2cefb6-9636-402c-adb1-be2977117f2d?format=1", flatten = TRUE)
# extract alerts data
dfalerts <- as.data.frame(waze_data$alerts)
# check alert type and set marker color
map_dfcolor <- dfalerts %>%
mutate(color = case_when(str_detect(type, "JAM") ~ "green",
str_detect(type, "ROAD_CLOSED") ~ "blue",
str_detect(type, "HAZARD") ~ "orange",
str_detect(type, "ACCIDENT") ~ "red",
TRUE ~ "a default")
)
# extract jams data
dfjams <- as.data.frame(waze_data$jams)
dfjams_length <- length(waze_data$jams$line) # get jam line count
# create leaflet map
# add markers (alert); legend
map_combined <- leaflet() %>%
addTiles() %>%
addLegend( # for circle markers
"topright",
title = "Map Marker Legend",
colors = c("green", "blue", "orange", "red"),
label = c("Jam", "Road Closed", "Hazard", "Accident"),
opacity = 1
) %>%
addLegend( # for polylines
"bottomright",
title = "Map Polyine Legend",
colors = c("green"),
label = c("Jam"),
opacity = 1
) %>%
addCircleMarkers(
data = dfalerts,
lng = ~location.x,
lat = ~location.y,
popup = ~subtype,
color = map_dfcolor$color,
opacity = 1,
fillOpacity = 1,
weight = 2,
radius = 4
)
# add polyline (jam/traffic)
for (i in 1:dfjams_length) {
map_combined <- addPolylines(
map = map_combined,
data = dfjams,
lng = ~line[[i]]$x,
lat = ~line[[i]]$y,
weight = 2,
opacity = 1,
color = "green"
)
}
# display map and legend
map_combined
# install.packages("remotes")
# remotes::install_github("JosiahParry/populartimes")
library(populartimes)
library(tidyverse)
place_id <- "ChIJY96HXyFTQDIRV9opeu-QR3g"
key <- Sys.setenv("GOOGLE_KEY" = "AIzaSyCgYGrWpFQgggGV4XieZsdYy8OfrN8xR5k")
gpt <- get_place_details(place_id, key)
print(gpt)
# install.packages("remotes")
# remotes::install_github("JosiahParry/populartimes")
library(populartimes)
library(tidyverse)
place_id <- "ChIJY96HXyFTQDIRV9opeu-QR3g"
key <- Sys.setenv("GOOGLE_KEY" = "AIzaSyAvJH1MMwic7jOl-rPsbn5m8gDUvexcWlc")
gpt <- get_place_details(place_id, key)
print(gpt)
# install.packages("remotes")
# remotes::install_github("JosiahParry/populartimes")
library(populartimes)
library(tidyverse)
place_id <- "ChIJY96HXyFTQDIRV9opeu-QR3g"
key <- Sys.setenv("GOOGLE_KEY" = "AIzaSyBQPXxy1h4qcW2JOxfb3bm2jz039kUNN0E")
gpt <- get_place_details(place_id, key)
print(gpt)
# install.packages("remotes")
# remotes::install_github("JosiahParry/populartimes")
library(populartimes)
library(tidyverse)
place_id <- "ChIJY96HXyFTQDIRV9opeu-QR3g"
key <- Sys.setenv("GOOGLE_KEY" = "AIzaSyBQPXxy1h4qcW2JOxfb3bm2jz039kUNN0E")
gpt <- get_popular_times(place_id, key)
print(gpt)
# install.packages("remotes")
# remotes::install_github("JosiahParry/populartimes")
library(populartimes)
library(tidyverse)
place_id <- "ChIJY96HXyFTQDIRV9opeu-QR3g"
key <- Sys.setenv("GOOGLE_KEY" = "AIzaSyBQPXxy1h4qcW2JOxfb3bm2jz039kUNN0E")
gpt <- get_popular_times(place_id, key)
print(gpt$popular_times)
# install.packages("remotes")
# remotes::install_github("JosiahParry/populartimes")
library(populartimes)
library(tidyverse)
place_id <- "ChIJY96HXyFTQDIRV9opeu-QR3g"
key <- Sys.setenv("GOOGLE_KEY" = "AIzaSyBQPXxy1h4qcW2JOxfb3bm2jz039kUNN0E")
gpt <- get_popular_times(place_id, key)
print(gpt$popular_times[[1]])
# install.packages("remotes")
# remotes::install_github("JosiahParry/populartimes")
library(populartimes)
library(tidyverse)
place_id <- "ChIJY96HXyFTQDIRV9opeu-QR3g"
key <- Sys.setenv("GOOGLE_KEY" = "AIzaSyBQPXxy1h4qcW2JOxfb3bm2jz039kUNN0E")
gpd<- get_place_details(place_id, key)
gpt <- get_popular_times(place_id, key)
print(gpd)
# install.packages("remotes")
# remotes::install_github("JosiahParry/populartimes")
library(populartimes)
library(tidyverse)
place_id <- "ChIJY96HXyFTQDIRV9opeu-QR3g"
key <- Sys.setenv("GOOGLE_KEY" = "AIzaSyBQPXxy1h4qcW2JOxfb3bm2jz039kUNN0E")
gpd<- get_place_details(place_id, key)
gpt <- get_popular_times(place_id, key)
print(gpd$result)
# install.packages("remotes")
# remotes::install_github("JosiahParry/populartimes")
library(populartimes)
library(tidyverse)
# place_id <- "ChIJY96HXyFTQDIRV9opeu-QR3g"
place_id <- "ChIJo8wQgTXNlzMRpBRwdNhL4FY"
key <- Sys.setenv("GOOGLE_KEY" = "AIzaSyBQPXxy1h4qcW2JOxfb3bm2jz039kUNN0E")
gpd<- get_place_details(place_id, key)
gpt <- get_popular_times(place_id, key)
print(gpd$result)
# install.packages("remotes")
# remotes::install_github("JosiahParry/populartimes")
library(populartimes)
library(tidyverse)
# place_id <- "ChIJY96HXyFTQDIRV9opeu-QR3g"
place_id <- "ChIJo8wQgTXNlzMRpBRwdNhL4FY"
key <- Sys.setenv("GOOGLE_KEY" = "AIzaSyBQPXxy1h4qcW2JOxfb3bm2jz039kUNN0E")
gpd<- get_place_details(place_id, key)
gpt <- get_popular_times(place_id, key)
print(gpt)
# install.packages("remotes")
# remotes::install_github("JosiahParry/populartimes")
library(populartimes)
library(tidyverse)
# place_id <- "ChIJY96HXyFTQDIRV9opeu-QR3g"
place_id <- "ChIJo8wQgTXNlzMRpBRwdNhL4FY"
key <- Sys.setenv("GOOGLE_KEY" = "AIzaSyBQPXxy1h4qcW2JOxfb3bm2jz039kUNN0E")
gpd<- get_place_details(place_id, key)
gpt <- get_popular_times(place_id, key)
print(gpt$popular_times)
# install.packages("remotes")
# remotes::install_github("JosiahParry/populartimes")
library(populartimes)
library(tidyverse)
# place_id <- "ChIJY96HXyFTQDIRV9opeu-QR3g"
place_id <- "ChIJo8wQgTXNlzMRpBRwdNhL4FY"
key <- Sys.setenv("GOOGLE_KEY" = "AIzaSyBQPXxy1h4qcW2JOxfb3bm2jz039kUNN0E")
gpd<- get_place_details(place_id, key)
gpt <- get_popular_times(place_id, key)
print(data.frame(gpt$popular_times))
# install.packages("remotes")
# remotes::install_github("JosiahParry/populartimes")
library(populartimes)
library(tidyverse)
# place_id <- "ChIJY96HXyFTQDIRV9opeu-QR3g"
place_id <- "ChIJo8wQgTXNlzMRpBRwdNhL4FY"
key <- Sys.setenv("GOOGLE_KEY" = "AIzaSyBQPXxy1h4qcW2JOxfb3bm2jz039kUNN0E")
gpd<- get_place_details(place_id, key)
gpt <- get_popular_times(place_id, key) %>%
select(name, popular_times)
print(gpt)
# install.packages("remotes")
# remotes::install_github("JosiahParry/populartimes")
library(populartimes)
library(tidyverse)
place_id <- "ChIJY96HXyFTQDIRV9opeu-QR3g"
# place_id <- "ChIJo8wQgTXNlzMRpBRwdNhL4FY"
key <- Sys.setenv("GOOGLE_KEY" = "AIzaSyBQPXxy1h4qcW2JOxfb3bm2jz039kUNN0E")
gpd<- get_place_details(place_id, key)
gpt <- get_popular_times(place_id, key) %>%
select(name, popular_times)
print(gpt)
# install.packages("remotes")
# remotes::install_github("JosiahParry/populartimes")
library(populartimes)
library(tidyverse)
place_id <- "ChIJY96HXyFTQDIRV9opeu-QR3g"
# place_id <- "ChIJo8wQgTXNlzMRpBRwdNhL4FY"
key <- Sys.setenv("GOOGLE_KEY" = "AIzaSyBQPXxy1h4qcW2JOxfb3bm2jz039kUNN0E")
gpd<- get_place_details(place_id, key)
gpt <- get_popular_times(place_id, key) %>%
select(name, popular_times)
print(gpt)
gpd<- get_place_details(place_id, key)
print(gpd)
gpd<- get_place_details(place_id, key) %>% select(result)
gpd<- get_place_details(place_id, key)
print(gpd$result)
gpd<- get_place_details(place_id, key)
print(gpd$result)
# install.packages("remotes")
# remotes::install_github("JosiahParry/populartimes")
library(populartimes)
library(tidyverse)
place_id <- "ChIJY96HXyFTQDIRV9opeu-QR3g"
# place_id <- "ChIJo8wQgTXNlzMRpBRwdNhL4FY"
key <- Sys.setenv("GOOGLE_KEY" = "AIzaSyBQPXxy1h4qcW2JOxfb3bm2jz039kUNN0E")
gpd<- get_place_details(place_id, key)
print(gpd$result)
# install.packages("remotes")
# remotes::install_github("JosiahParry/populartimes")
library(populartimes)
library(tidyverse)
place_id <- "ChIJY96HXyFTQDIRV9opeu-QR3g"
# place_id <- "ChIJo8wQgTXNlzMRpBRwdNhL4FY"
key <- Sys.setenv("GOOGLE_KEY" = "AIzaSyBQPXxy1h4qcW2JOxfb3bm2jz039kUNN0E")
gpd<- get_place_details(place_id, key)
print(gpd)
# install.packages("remotes")
# remotes::install_github("JosiahParry/populartimes")
library(populartimes)
library(tidyverse)
place_id <- "ChIJY96HXyFTQDIRV9opeu-QR3g"
# place_id <- "ChIJo8wQgTXNlzMRpBRwdNhL4FY"
key <- Sys.setenv("GOOGLE_KEY" = "AIzaSyBQPXxy1h4qcW2JOxfb3bm2jz039kUNN0E")
gpd<- get_place_details(place_id, key)
print(gpd)
# install.packages("remotes")
# remotes::install_github("JosiahParry/populartimes")
library(populartimes)
library(tidyverse)
place_id <- "ChIJY96HXyFTQDIRV9opeu-QR3g"
# place_id <- "ChIJo8wQgTXNlzMRpBRwdNhL4FY"
key <- Sys.setenv("GOOGLE_KEY" = "AIzaSyBQPXxy1h4qcW2JOxfb3bm2jz039kUNN0E")
gpd<- get_place_details(place_id, key)
print(gpd)
# install.packages("remotes")
# remotes::install_github("JosiahParry/populartimes")
library(populartimes)
library(tidyverse)
place_id <- "ChIJY96HXyFTQDIRV9opeu-QR3g"
# place_id <- "ChIJo8wQgTXNlzMRpBRwdNhL4FY"
key <- Sys.setenv("GOOGLE_KEY" = "AIzaSyBQPXxy1h4qcW2JOxfb3bm2jz039kUNN0E")
gpd<- get_place_details(place_id, key)
print(gpd)
# install.packages("remotes")
# remotes::install_github("JosiahParry/populartimes")
library(populartimes)
library(tidyverse)
place_id <- "ChIJY96HXyFTQDIRV9opeu-QR3g"
# place_id <- "ChIJo8wQgTXNlzMRpBRwdNhL4FY"
key <- Sys.setenv("GOOGLE_KEY" = "AIzaSyBQPXxy1h4qcW2JOxfb3bm2jz039kUNN0E")
gpd<- get_place_details(place_id, key)
print(gpd)
# install.packages("remotes")
# remotes::install_github("JosiahParry/populartimes")
library(populartimes)
library(tidyverse)
place_id <- "ChIJY96HXyFTQDIRV9opeu-QR3g"
# place_id <- "ChIJo8wQgTXNlzMRpBRwdNhL4FY"
key <- Sys.setenv("GOOGLE_KEY" = "AIzaSyBQPXxy1h4qcW2JOxfb3bm2jz039kUNN0E")
gpd<- get_place_details(place_id, key) %>%
select(result)
# install.packages("remotes")
# remotes::install_github("JosiahParry/populartimes")
library(populartimes)
library(tidyverse)
place_id <- "ChIJY96HXyFTQDIRV9opeu-QR3g"
# place_id <- "ChIJo8wQgTXNlzMRpBRwdNhL4FY"
key <- Sys.setenv("GOOGLE_KEY" = "AIzaSyBQPXxy1h4qcW2JOxfb3bm2jz039kUNN0E")
gpd <- get_place_details(place_id, key)
df_gpd <- as.data.frame(gpd$result)
print(df_gpd)
# install.packages("remotes")
# remotes::install_github("JosiahParry/populartimes")
library(populartimes)
library(tidyverse)
# place_id <- "ChIJY96HXyFTQDIRV9opeu-QR3g"
place_id <- "ChIJ70O7r3WtEmsRJsr622aiB6c"
key <- Sys.setenv("GOOGLE_KEY" = "AIzaSyBQPXxy1h4qcW2JOxfb3bm2jz039kUNN0E")
# gpd <- get_place_details(place_id, key)
# df_gpd <- as.data.frame(gpd$result)
gpt <- get_popular_times(place_id, key) %>%
select(name, popular_times)
print(gpt)
gpt <- get_popular_times(place_id, key) %>%
select(name, popular_times[1])
# install.packages("remotes")
# remotes::install_github("JosiahParry/populartimes")
library(populartimes)
library(tidyverse)
# place_id <- "ChIJY96HXyFTQDIRV9opeu-QR3g"
place_id <- "ChIJ70O7r3WtEmsRJsr622aiB6c"
key <- Sys.setenv("GOOGLE_KEY" = "AIzaSyBQPXxy1h4qcW2JOxfb3bm2jz039kUNN0E")
# gpd <- get_place_details(place_id, key)
# df_gpd <- as.data.frame(gpd$result)
gpt <- get_popular_times(place_id, key) %>%
select(name, popular_times)
print(gpt)
# install.packages("remotes")
# remotes::install_github("JosiahParry/populartimes")
library(populartimes)
library(tidyverse)
# place_id <- "ChIJY96HXyFTQDIRV9opeu-QR3g"
place_id <- "ChIJ70O7r3WtEmsRJsr622aiB6c"
key <- Sys.setenv("GOOGLE_KEY" = "AIzaSyBQPXxy1h4qcW2JOxfb3bm2jz039kUNN0E")
# gpd <- get_place_details(place_id, key)
# df_gpd <- as.data.frame(gpd$result)
gpt <- get_popular_times(place_id, key) %>%
select(name, popular_times)
print(as.data.frame(gpt))
gpt <- get_popular_times(place_id, key)
print(as.data.frame(gpt))
# install.packages("remotes")
# remotes::install_github("JosiahParry/populartimes")
library(populartimes)
library(tidyverse)
# place_id <- "ChIJY96HXyFTQDIRV9opeu-QR3g"
place_id <- "ChIJlaxbdKDSlzMRYyxUUVSkS6U"
key <- Sys.setenv("GOOGLE_KEY" = "AIzaSyBQPXxy1h4qcW2JOxfb3bm2jz039kUNN0E")
# gpd <- get_place_details(place_id, key)
# df_gpd <- as.data.frame(gpd$result)
gpt <- get_popular_times(place_id, key) %>%
select(name, popular_times, current_popularity)
print(as.data.frame(gpt))
place_id <- "ChIJIZ-EZODPlzMReDlWHisvL98" # C5 Link
key <- Sys.setenv("GOOGLE_KEY" = "AIzaSyBQPXxy1h4qcW2JOxfb3bm2jz039kUNN0E")
gpt <- get_popular_times(place_id, key) %>%
select(name, popular_times, current_popularity)
print(as.data.frame(gpt))
# install.packages("jsonlite")
library(jsonlite)
library(tidyverse)
library(leaflet)
# download waze data feeds
waze_data <- fromJSON("https://www.waze.com/row-partnerhub-api/partners/11262491165/waze-feeds/8d2cefb6-9636-402c-adb1-be2977117f2d?format=1", flatten = TRUE)
# extract alerts data
dfalerts <- as.data.frame(waze_data$alerts)
# check alert type and set marker color
map_dfcolor <- dfalerts %>%
mutate(color = case_when(str_detect(type, "JAM") ~ "green",
str_detect(type, "ROAD_CLOSED") ~ "blue",
str_detect(type, "HAZARD") ~ "orange",
str_detect(type, "ACCIDENT") ~ "red",
TRUE ~ "a default")
)
# extract jams data
dfjams <- as.data.frame(waze_data$jams)
dfjams_length <- length(waze_data$jams$line) # get jam line count
# create leaflet map
# add markers (alert); legend
map_combined <- leaflet() %>%
addTiles() %>%
addLegend( # for circle markers
"topright",
title = "Map Marker Legend",
colors = c("green", "blue", "orange", "red"),
label = c("Jam", "Road Closed", "Hazard", "Accident"),
opacity = 1
) %>%
addLegend( # for polylines
"bottomright",
title = "Map Polyine Legend",
colors = c("green"),
label = c("Jam"),
opacity = 1
) %>%
addCircleMarkers(
data = dfalerts,
lng = ~location.x,
lat = ~location.y,
popup = ~subtype,
color = map_dfcolor$color,
opacity = 1,
fillOpacity = 1,
weight = 2,
radius = 4
)
# add polyline (jam/traffic)
for (i in 1:dfjams_length) {
map_combined <- addPolylines(
map = map_combined,
data = dfjams,
lng = ~line[[i]]$x,
lat = ~line[[i]]$y,
weight = 2,
opacity = 1,
color = "green"
)
}
# display map and legend
map_combined
